

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Visualizer Architecture Overview &mdash; PyVis dev documentation</title>
    
    <link rel="stylesheet" href="../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     'dev',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="PyVis dev documentation" href="../index.html" />
    <link rel="next" title="Widgets" href="widgets.html" />
    <link rel="prev" title="Visualizer Nomenclature" href="nomenclature.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="widgets.html" title="Widgets"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="nomenclature.html" title="Visualizer Nomenclature"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">PyVis dev documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="visualizer-architecture-overview">
<h1>Visualizer Architecture Overview<a class="headerlink" href="#visualizer-architecture-overview" title="Permalink to this headline">¶</a></h1>
<p>This document shall serve as a high-level overview of what each component of
the visualizer architecture shall be responsible for.</p>
<div align="center" class="align-center"><img src="../_images/overview.svg" width="550px" /></div>
<div class="section" id="plugin">
<h2>Plugin<a class="headerlink" href="#plugin" title="Permalink to this headline">¶</a></h2>
<p>Game-specific functionality is implemented in these.  I don&#8217;t have anything more to say on that.  It&#8217;s pretty self-explanatory.</p>
</div>
<div class="section" id="application">
<h2>Application<a class="headerlink" href="#application" title="Permalink to this headline">¶</a></h2>
<p>This is the container for all the components below the application.  It manages game logs to some extent.  The application acts similarly to how plugins will act except that it contains the core features that are common to all plugins.</p>
</div>
<div class="section" id="timeline">
<h2>Timeline<a class="headerlink" href="#timeline" title="Permalink to this headline">¶</a></h2>
<p>The timeline is responsible for telling what to draw, when and under what state. This is the backbone of the visualizer and will be responsible for presenting information in the most accurate way possible given the desired playback format.</p>
<p>See the <a class="reference internal" href="nomenclature.html"><em>nomenclature</em></a> page for details on the different playback modes.</p>
<p>The initial timeline implementation plans are as follows:</p>
<p>There will be a list of &#8220;tracks&#8221; which will contain all the objects that are to be drawn to the screen.  Each track object will have a start time and an end time.  Each object will be initialized as taking up a certain percentage of track time and there will be no conflicts with that object:</p>
<div class="highlight-python"><pre>Each arrow denotes a different animation associated with a track.
+-------+-------------------------------------------------------+
|Tracks |                     Timeline                          |
+-------+-------------------------------------------------------+
 Track A |---&gt;              ---&gt;|   &gt;&gt; --&gt;          ---&gt;|     ---
 Track B |    --&gt;-&gt;&gt;            |     &gt;   -----&gt;        |----&gt;
 Track C |          -&gt;-&gt;&gt;--&gt;    |--&gt;            ---&gt;    |
         |                      |                       |
 Tags   Turn 1                 Turn 2                  Debug</pre>
</div>
<p>The timeline will store a list of tags.  The most common tag will be a &#8216;turn tag&#8217; which represents the end of one turn and start of another.  Each animation will specify what objects it &#8220;interacts&#8221; with.</p>
<p>If the timeline is in any mode other than &#8216;unit-mode&#8217;, it will then begin to try to condense areas of the timeline between tags depending on the mode.  A debug tag will denote a universal interaction.  All states must be at the point where they were on the server when the debug tag was inserted.</p>
<p>The timeline exists inside a virtual window inside the UI at the lowest level meaning it only responds to inputs in all the higher-level windows have failed to.</p>
</div>
<div class="section" id="ui">
<h2>UI<a class="headerlink" href="#ui" title="Permalink to this headline">¶</a></h2>
<p>The UI contains <a class="reference internal" href="widgets.html"><em>Widgets</em></a> which are objects just like in the Timeline. Widgets contain a set of procedures expected in the UI.  The UI should draw all the objects it contains, and send appropriate inputs to the objects.  Individual objects should contain the logic to handle clicks, hovers, drags (not the queen-style), etc.  If no widget responds to the input, the UI should tell the input system it didn&#8217;t know what to do.</p>
</div>
<div class="section" id="renderer">
<h2>Renderer<a class="headerlink" href="#renderer" title="Permalink to this headline">¶</a></h2>
<p>The renderer shall contain a set of procedures that Objects can call to get stuff drawn to the screen.  It will automatically look for resources based on the input texture name if it&#8217;s not already loaded.  It should also deallocate resources it hasn&#8217;t been using in a while.</p>
</div>
<div class="section" id="input">
<h2>Input<a class="headerlink" href="#input" title="Permalink to this headline">¶</a></h2>
<p>This shall look for input events from the user and send them to the appropriate component.  In the initial implementation, this shall be the UI, then the Timeline, if no UI Widget has responded appropriately.</p>
<p>Inputs that should be sent are:</p>
<ul class="simple">
<li>Down-button (For Drags)</li>
<li>Up-button (left, right, and middle)</li>
<li>Selections (If no down-button was responded too)</li>
<li>Key presses</li>
<li>Voice Commands :|</li>
</ul>
</div>
<div class="section" id="networking">
<h2>Networking<a class="headerlink" href="#networking" title="Permalink to this headline">¶</a></h2>
<p>This module shall provide the ability to read incoming packet information and append it to the timeline.  Should dispatch &#8216;new_turn&#8217; events to be sent to the current plugin.</p>
</div>
<div class="section" id="arena-controller">
<h2>Arena Controller<a class="headerlink" href="#arena-controller" title="Permalink to this headline">¶</a></h2>
<p>The arena controller will automatically trigger events for the visualizer in lieu of user input.  This means monitoring the AMQP server for new glogs to display, displaying glogs appropriately, etc.</p>
</div>
<div class="section" id="ed-the-event-dispatcher">
<h2>ED The Event Dispatcher<a class="headerlink" href="#ed-the-event-dispatcher" title="Permalink to this headline">¶</a></h2>
<p>Essentially any messages that need to be transmitted across modules will be sent to this.  This removes the need for circular dependencies in some cases.  Loading a gamelog, for example, can happen at the UI level (file-&gt;open), command line (python main.py glog_name.glog), or from the arena (beanstalk consuming).  Any of these can dispatch a &#8220;load_glog&#8221; event while one callback will consume those messages and deal with them.</p>
</div>
<div class="section" id="game-loader">
<h2>Game Loader<a class="headerlink" href="#game-loader" title="Permalink to this headline">¶</a></h2>
<p>This module is responsible for decompressing glogs, acquiring their plugin, and dispatching the decompressed data along with the plugin to be consumed by the application.</p>
</div>
<div class="section" id="config-module">
<h2>Config Module<a class="headerlink" href="#config-module" title="Permalink to this headline">¶</a></h2>
<p>This module will provide a globally accessible place for updating and setting configuration for the visualizer.  It will optionally trigger events on setting changes.</p>
</div>
<div class="section" id="id1">
<h2>Arena Controller<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h2>
<p>The main purpose of this module is to pull games from the AMQP server to display automagically.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Visualizer Architecture Overview</a><ul>
<li><a class="reference internal" href="#plugin">Plugin</a></li>
<li><a class="reference internal" href="#application">Application</a></li>
<li><a class="reference internal" href="#timeline">Timeline</a></li>
<li><a class="reference internal" href="#ui">UI</a></li>
<li><a class="reference internal" href="#renderer">Renderer</a></li>
<li><a class="reference internal" href="#input">Input</a></li>
<li><a class="reference internal" href="#networking">Networking</a></li>
<li><a class="reference internal" href="#arena-controller">Arena Controller</a></li>
<li><a class="reference internal" href="#ed-the-event-dispatcher">ED The Event Dispatcher</a></li>
<li><a class="reference internal" href="#game-loader">Game Loader</a></li>
<li><a class="reference internal" href="#config-module">Config Module</a></li>
<li><a class="reference internal" href="#id1">Arena Controller</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="nomenclature.html"
                        title="previous chapter">Visualizer Nomenclature</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="widgets.html"
                        title="next chapter">Widgets</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../_sources/design/component_description.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="widgets.html" title="Widgets"
             >next</a> |</li>
        <li class="right" >
          <a href="nomenclature.html" title="Visualizer Nomenclature"
             >previous</a> |</li>
        <li><a href="../index.html">PyVis dev documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2012, Missouri S&amp;T - ACM SIG-Game,Maintained by Jacob Gardner.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>